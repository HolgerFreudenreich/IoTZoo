@page "/PublishTopic"

@inherits PublishTopicBase

<MudDynamicTabs @bind-ActivePanelIndex="@UserIndex"
                AddTab="@AddTabCallback"
                CloseTab="@CloseTabCallback"
                AddIconToolTip="Click to add a new tab" 
                CloseIconToolTip="Close tab. All data will be lost"
                PanelClass="px-4 py-6"
                Elevation="4" 
                Rounded ApplyEffectsToContainer>
   @if (null != Tabs)
   {
      @foreach (TabView tab in Tabs)
      {
         <MudTabPanel ID="@tab.TabGuid"
                      Text="@tab.LabelText"
                      ShowCloseIcon="true">
            <IotZoo.Components.PublishMqttMessage TopicEntry="@tab.TopicEntry"></IotZoo.Components.PublishMqttMessage>
         </MudTabPanel>
      }
      <MudButton Class="MudButtonText"
                 Color="Color.Success"
                 OnClick="Save">Save</MudButton>

   }
</MudDynamicTabs>